{% extends "base_generic.html" %}
{% load static %}
{% block content %}


  <style>
    input{
      all: unset;
      width: 250px;
      height: 30px;
      flex-shrink: 0;
      border-radius: 5px;
      background: var(--main-grey, #383639);
      font-size: 16px;
    }

    button{
      all: unset;
      cursor: pointer;
    }
    p{
      width: 80px;
      margin-top: 10px;
      color: #FFF;
      font-family: Inter,sans-serif;
      font-size: 16px;
      font-style: normal;
      font-weight: 200;
      line-height: normal;
    }
    label{
      display: block;
      width: 181px;
      color: #FFF;
      font-family: Inter, sans-serif;
      font-size: 16px;
      font-style: normal;
      font-weight: 200;
      line-height: normal;
    }
    input:hover{
      Box-shadow:0px 1px 0px #009FE3,0px -1px 0px #009FE3,1px 0px 0px #009FE3,-1px 0px 0px #009FE3;
      transition: 0.5s;
    }
    input:focus{
      Box-shadow:0px 1px 0px #009FE3,0px -1px 0px #009FE3,1px 0px 0px #009FE3,-1px 0px 0px #009FE3;
      transition: 1s;
    }
    .enter_block{
      width: 300px;
      height: 400px;
      border-radius: 0px 0px 30px 0px;
      background: #1F1F20;
    }
    .form{
      margin-top: 40px;
      margin-left: 25px;
      padding-bottom: 20px;
    }
    .login_button{
      margin-left: 22%;
      width: 135px;
      height: 30px;
      border-radius: 100px;
      background: var(--main-white, #FFF);
      color: var(--main-black, #1F1F20);
      text-align: center;
      font-family: Inter, sans-serif;
      font-size: 14px;
      font-style: normal;
      font-weight: 600;
      line-height: normal;
      filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));
    }
    .login_button:hover{
      filter: drop-shadow(0px 4px 4px rgba(255, 255, 255, 0.25));
      transition: 0.5s;
    }
    .login_button:focus{
      transition: 0.1s;
      background: var(--main-white, #009FE3);
    }
    h2{
      text-align: center;
      font-family: Inter, sans-serif;
      font-size: 24px;
      font-style: normal;
      font-weight: 600;
      line-height: normal;
      background: linear-gradient(rgba(0,159,227,1), rgba(255,255,255,1));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-top: 50px;
    }
    html {
	  background: #383639;
    }
    li{
      color: red;
    }
    @media (min-width: 1920px) {
        body {
            zoom: 120%;
        }
      }

    .register_button{
        text-decoration: none;
        color: #009FE3;
        font-family: Inter,sans-serif;
        margin-left: 105px;
        margin-top: 10px;
    }
    .register_button:hover{
        color: white;
        transition: 0.6s;
    }
    .helptext, ul.errorlist, ul {
      display: none;
    }
    #helpinfo {
        display: block;
        color: red;
        width: 600px;
        margin: auto;
        margin-top: 50px;
        font-family: Inter,sans-serif;
        font-size: 16px;
    }


  </style>


<div class="auth_block" style="height: 400px;width: 600px; margin:auto; margin-top: 10%">
    <div style="display: flex;">
      <img src="{% static 'LeftSection.png'%}">
      <div class="enter_block">
          <h2 style="">REGISTRATION</h2>
          <form method="post" class="form">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="login_button">Регистрация</button>

          </form>
          <a class="register_button" href="{% url 'login' %}">Авторизация</a>
      </div>


    </div>

  </div>

<div id="helpinfo" style="color: red;"></div>


<script>
function togglePasswordVisibility() {
  var passwordFields = document.querySelectorAll('.password-toggle');
  passwordFields.forEach(function(field) {
    if (field.type === "password") {
      field.type = "text";
    } else {
      field.type = "password";
    }
  });
}
</script>

<script>
document.addEventListener("DOMContentLoaded", function() {
  // Копирование текста из helptext и вставка его в helpinfo
  const helpTexts = document.querySelectorAll('.helptext');
  helpTexts.forEach(function(el) {
    const text = el.innerText;
    if (text) {
      const node = document.createElement("DIV");
      node.textContent = text;
      document.getElementById('helpinfo').appendChild(node);
    }
  });

  // Копирование текста из элементов списка ошибок и вставка его в helpinfo
  const errorLists = document.querySelectorAll('ul.errorlist');
  errorLists.forEach(function(list) {
    const items = list.querySelectorAll('li');
    items.forEach(function(item) {
      const text = item.innerText;
      if (text) {
        const node = document.createElement("DIV");
        node.textContent = text;
        document.getElementById('helpinfo').appendChild(node);
      }
    });
  });
});
</script>


{% endblock %}